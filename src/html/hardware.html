<!DOCTYPE HTML>
<html>

<head>
	<title>Welcome to your ExpressLRS System</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="elrs.css" />
	<link rel="stylesheet" href="mui.css" />
</head>

<body>
	<header class="mui-appbar mui--z1 mui--text-center elrs-header">
		<img src="logo.svg" height="250" width="250" style="padding:20px;"></a>
		<h1>Welcome to the <b>ExpressLRS</b> target configuration page<br />
		</h1>
	</header>

	<div class="mui-container-fluid">
		<div class="mui-panel mui-col-sm-10 mui-col-sm-offset-1">
			<form id="notused" action="" method="POST" enctype="multipart/form-data">
				<fieldset>
					<input type="hidden" id="MAX_FILE_SIZE" name="MAX_FILE_SIZE" value="10000" />
					<div>
						<label for="fileselect">Load target configuration (remember to press "Save Target Configuration" below):</label>
						<input type="file" id="fileselect" name="fileselect[]" />
						<div id="filedrag">or drop files here</div>
					</div>
				</fieldset>
			</form>
		</div>
		<div class="mui-panel mui-col-sm-10 mui-col-sm-offset-1">
			<form id='upload_hardware' method='POST' action="/hardware">
				<table>
					<tr><td colspan='2'><b>CRSF Serial Pins</td></tr>
					<tr><td width="30"></td><td>RX pin</td><td><input size='3' id='0' name='0' type='text'/></td></tr>
					<tr><td></td><td>TX pin </td><td><input size='3' id='1' name='1' type='text'/></td></tr>

					<tr><td colspan='2'><b>Radio Chip Pins & Options</td></tr>
					<tr><td></td><td>BUSY pin</td><td><input size='3' id='2' name='2' type='text'/></td></tr>
					<tr><td></td><td>DIO0 pin</td><td><input size='3' id='3' name='3' type='text'/></td></tr>
					<tr><td></td><td>DIO1 pin</td><td><input size='3' id='4' name='4' type='text'/></td></tr>
					<tr><td></td><td>DIO2 pin</td><td><input size='3' id='5' name='5' type='text'/></td></tr>
					<tr><td></td><td>MISO pin</td><td><input size='3' id='6' name='6' type='text'/></td></tr>
					<tr><td></td><td>MOSI pin</td><td><input size='3' id='7' name='7' type='text'/></td></tr>
					<tr><td></td><td>NSS pin</td><td><input size='3' id='8' name='8' type='text'/></td></tr>
					<tr><td></td><td>RST pin</td><td><input size='3' id='9' name='9' type='text'/></td></tr>
					<tr><td></td><td>SCK pin</td><td><input size='3' id='10' name='10' type='text'/></td></tr>
					<tr><td></td><td>DCDC enabled</td><td><input size='3' id='11' name='11' type='checkbox'/></td></tr>
					<tr><td></td><td>RFO_HF enabled</td><td><input size='3' id='12' name='12' type='checkbox'/></td></tr>

					<tr><td colspan='2'><b>Radio Antenna</td></tr>
					<tr><td></td><td>SELECT pin</td><td><input size='3' id='13' name='13' type='text'/></td></tr>
					<tr><td></td><td>CTRL1 pin</td><td><input size='3' id='14' name='14' type='text'/></td></tr>
					<tr><td></td><td>CTRL2 pin</td><td><input size='3' id='15' name='15' type='text'/></td></tr>

					<tr><td colspan='2'><b>Radio Power</td></tr>
					<tr><td></td><td>PA enable pin</td><td><input size='3' id='16' name='16' type='text'/></td></tr>
					<tr><td></td><td>APC1 pin</td><td><input size='3' id='17' name='17' type='text'/></td></tr>
					<tr><td></td><td>APC2 pin</td><td><input size='3' id='18' name='18' type='text'/></td></tr>
					<tr><td></td><td>RXEN pin</td><td><input size='3' id='19' name='19' type='text'/></td></tr>
					<tr><td></td><td>TXEN pin</td><td><input size='3' id='20' name='20' type='text'/></td></tr>
					<tr><td></td><td>Min Power</td><td>
						<select id='21' name='21'>
							<option value='0'>10mW</option>
							<option value='1'>25mW</option>
							<option value='2'>50mW</option>
							<option value='3'>100mW</option>
							<option value='4'>250mW</option>
							<option value='5'>500mW</option>
							<option value='6'>1000mW</option>
							<option value='7'>2000mW</option>
						</select>
					</td></tr>
					<tr><td></td><td>High Power</td><td>
						<select id='22' name='22'>
							<option value='0'>10mW</option>
							<option value='1'>25mW</option>
							<option value='2'>50mW</option>
							<option value='3'>100mW</option>
							<option value='4'>250mW</option>
							<option value='5'>500mW</option>
							<option value='6'>1000mW</option>
							<option value='7'>2000mW</option>
						</select>
					</td></tr>
					<tr><td></td><td>Max Power</td><td>
						<select id='23' name='23'>
							<option value='0'>10mW</option>
							<option value='1'>25mW</option>
							<option value='2'>50mW</option>
							<option value='3'>100mW</option>
							<option value='4'>250mW</option>
							<option value='5'>500mW</option>
							<option value='6'>1000mW</option>
							<option value='7'>2000mW</option>
						</select>
					</td></tr>
					<tr><td></td><td>Default Power</td><td>
						<select id='24' name='24'>
							<option value='0'>10mW</option>
							<option value='1'>25mW</option>
							<option value='2'>50mW</option>
							<option value='3'>100mW</option>
							<option value='4'>250mW</option>
							<option value='5'>500mW</option>
							<option value='6'>1000mW</option>
							<option value='7'>2000mW</option>
						</select>
					</td></tr>
					<tr><td></td><td>Power Level control</td><td>
						<select id='29' name='29'>
							<option value='0'>via Radio Chip</option>
							<!--<option value='1'>ANALOG</option>
							<option value='2'>DAC</option>-->
							<option value='3'>DACWRITE</option>
						</select>
					</td></tr>
					<tr><td></td><td>Level Value(s)</td><td><input size='40' id='30' name='30' type='text'/></td></tr>

					<tr><td colspan='2'><b>Radio Power Detection</td></tr>
					<tr><td></td><td>PDET pin</td><td><input size='3' id='25' name='25' type='text'/></td></tr>
					<tr><td></td><td>Intercept</td><td><input size='20' id='26' name='26' type='text'/></td></tr>
					<tr><td></td><td>Slope</td><td><input size='20' id='27' name='27' type='text'/></td></tr>
					<!-- The PIN is enough <tr><td>Is SKY85321</td><td><input size='3' id='28' name='28' type='checkbox'/></td></tr>-->

					<tr><td colspan='2'><b>Analog Joystick</td></tr>
					<tr><td></td><td>ADC pin</td><td><input size='3' id='31' name='31' type='text'/></td></tr>
					<tr><td></td><td>Values</td><td><input size='20' id='32' name='32' type='text'/></td></tr>

					<tr><td colspan='2'><b>Digital Joystick</td></tr>
					<tr><td></td><td>Pin 1</td><td><input size='3' id='33' name='33' type='text'/></td></tr>
					<tr><td></td><td>Pin 2</td><td><input size='3' id='34' name='34' type='text'/></td></tr>
					<tr><td></td><td>Pin 3</td><td><input size='3' id='35' name='35' type='text'/></td></tr>

					<tr><td colspan='2'><b>Button(s)</td></tr>
					<tr><td></td><td>Button 1 pin</td><td><input size='3' id='36' name='36' type='text'/></td></tr>

					<tr><td colspan='2'><b>Mood Lighting</td></tr>
					<tr><td></td><td>RGB LED pin</td><td><input size='3' id='45' name='45' type='text'/></td></tr>
					<tr><td></td><td>RGB LED is GRB</td><td><input size='3' id='46' name='46' type='checkbox'/></td></tr>
					<tr><td></td><td>LED pin</td><td><input size='3' id='37' name='37' type='text'/></td><td>Only use when only a single LED is used</td></tr>
					<tr><td></td><td>Red LED pin</td><td><input size='3' id='42' name='42' type='text'/></td></tr>
					<tr><td></td><td>Red LED inverted</td><td><input size='3' id='43' name='43' type='checkbox'/></td></tr>
					<tr><td></td><td>Green LED pin</td><td><input size='3' id='39' name='39' type='text'/></td></tr>
					<tr><td></td><td>Green LED inverted</td><td><input size='3' id='40' name='40' type='checkbox'/></td></tr>
					<tr><td></td><td>Blue LED pin</td><td><input size='3' id='38' name='38' type='text'/></td></tr>
					<tr><td></td><td>Green/Red LED pin</td><td><input size='3' id='41' name='41' type='text'/></td></tr>
					<tr><td></td><td>Red/Green LED pin</td><td><input size='3' id='44' name='44' type='text'/></td></tr>

					<tr><td colspan='2'><b>OLED/TFT (Crotch TV)</td></tr>
					<tr><td></td><td>OLED type</td><td>
						<select id='53' name='53'>
							<option value='0'>None</option>
							<option value='1'>I2C OLED</option>
							<option value='2'>SPI OLED</option>
							<option value='3'>SPI OLED (small)</option>
							<option value='4'>SPI TFT</option>
						</select>
					</td></tr>
					<tr><td></td><td>180 rotation</td><td><input size='3' id='54' name='54' type='checkbox'/></td></tr>
					<tr><td></td><td>CS pin</td><td><input size='3' id='47' name='47' type='text'/></td><td>Chip Select (SPI)</td></tr>
					<tr><td></td><td>DC pin</td><td><input size='3' id='48' name='48' type='text'/></td><td>Data/Command Select (SPI)</td></tr>
					<tr><td></td><td>MOSI pin</td><td><input size='3' id='49' name='49' type='text'/></td><td>Data (SPI)</td></tr>
					<tr><td></td><td>RST pin</td><td><input size='3' id='50' name='50' type='text'/></td><td>Reset</td></tr>
					<tr><td></td><td>SCK pin</td><td><input size='3' id='51' name='51' type='text'/></td><td>Clock</td></tr>
					<tr><td></td><td>SDA pin</td><td><input size='3' id='52' name='52' type='text'/></td><td>Data (I2C)</td></tr>
					<tr><td></td><td>BL pin</td><td><input size='3' id='55' name='55' type='text'/></td><td>Backlight</td></tr>

					<tr><td colspan='2'><b>Backpack / Logging</td></tr>
					<tr><td></td><td>Enable Backpack</td><td><input size='3' id='56' name='56' type='checkbox'/></td></tr>
					<tr><td></td><td>Baud Rate</td><td><input size='10' id='57' name='57' type='text'/></td><td>460800 for backpack passthrough flashing</td></tr>
					<tr><td></td><td>RX pin</td><td><input size='3' id='58' name='58' type='text'/></td></tr>
					<tr><td></td><td>TX pin</td><td><input size='3' id='59' name='59' type='text'/></td></tr>
					<tr><td></td><td>BOOT pin</td><td><input size='3' id='60' name='60' type='text'/></td><td>Pin connected to GPIO0 pin on backpack ESP8285</td></tr>
					<tr><td></td><td>EN pin</td><td><input size='3' id='61' name='61' type='text'/></td><td>Pin connected to EN pin on backpack ESP8285</td></tr>

					<tr><td colspan='2'><b>I2C & Misc Devices</td></tr>
					<tr><td></td><td>SCL pin</td><td><input size='3' id='62' name='62' type='text'/></td></tr>
					<tr><td></td><td>SDA pin</td><td><input size='3' id='63' name='63' type='text'/></td></tr>
					<tr><td></td><td>Buzzer pin</td><td><input size='3' id='65' name='65' type='text'/></td></tr>
					<tr><td></td><td>Fan enable pin</td><td><input size='3' id='66' name='66' type='text'/></td></tr>
					<tr><td></td><td>Has STK8xxx G-sensor</td><td><input size='3' id='67' name='67' type='checkbox'/></td></tr>
					<tr><td></td><td>G-sensor interrupt pin</td><td><input size='3' id='64' name='64' type='input'/></td></tr>
					<tr><td></td><td>Has LM75A Thermal sensor</td><td><input size='3' id='68' name='68' type='checkbox'/></td></tr>
				</table>
				<input type='submit' value='Save Target Configuration' class='mui-btn mui-btn--primary'/>
			</form>
		</div>
	</div>
</body>
<script src="hardware.js"></script>
</html>